<?phpApp::uses('AccountAppController', 'Account.Controller');/** * Accounts Controller * */class HybridAuthController extends AccountAppController {	public $uses = array('User');		public function beforeFilter() {			parent::beforeFilter();				$this->autoRender = false;		$this->layout = null;	}		public function authenticate() {				try {						$config = array(									// required				"base_url" => Router::url(array('plugin' => 'account','controller' => 'hybrid_auth','action' => 'endpoint'),true),									// required				"providers" => array(					"Facebook" => array(						"enabled" => true,						"keys"    => array( "id" => '553198551368255', "secret" => '014756e0cde41d4319c7a8c30ff29c36' ),						'scope' => 'offline_access'						),				),				// dev mode				"debug_mode" => false,			);						$hybridauth = new \Hybridauth\Hybridauth( $config );					$adapter = $hybridauth->authenticate( 'Facebook' );			// $adapter = $hybridauth->authenticate( "Facebook" );			// $adapter = $hybridauth->authenticate( "Windows" );					// $adapter = $hybridauth->authenticate( "Twitter" );			// $adapter = $hybridauth->authenticate( "Yahoo" );			// $adapter = $hybridauth->authenticate( "LinkedIn" );					// $adapter = $hybridauth->authenticate( "OpenID", array( "openid_identifier" => "https://open.login.yahooapis.com/openid20/www.yahoo.com/xrds" ) );					// request user profile			$user_profile = $adapter->getUserProfile();					// user profile			debug( $user_profile);					//echo $adapter->debug();					// echo "Logging out..";			$adapter->disconnect();					} catch (Exception $e){			echo $e ;		}			}				public function endpoint() {		$endpoint = new \Hybridauth\Endpoint();		$endpoint->process();	}}